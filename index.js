import{a as R,S as P,N as Q,P as G,R as K}from"./assets/vendor-BuJqGh_H.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function s(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(n){if(n.ep)return;n.ep=!0;const r=s(n);fetch(n.href,r)}})();const B="https://sound-wave.b.goit.study/api",x=8;function X(e){alert(e)}async function F(e=1,t=8){const s=await fetch(`${B}/artists?page=${e}&limit=${t}`);if(!s.ok)throw new Error("Не вдалося завантажити артистів");return await s.json()}async function W(e){const t=await fetch(`${B}/artists/${e}`);if(!t.ok)throw new Error("Не вдалося завантажити деталі артиста");return await t.json()}const N=`${B}/feedbacks`;async function z(){try{const e=await fetch(N);if(!e.ok)throw new Error("Failed to load feedbacks");return(await e.json()).data}catch(e){return console.error(e),[]}}async function Z(e){try{return(await R.post(N,e)).data}catch(t){throw console.error("Помилка при відправці фідбеку:",t),t}}const D=document.querySelector(".column-left"),U=document.querySelector(".column-right");async function J(){try{const t=(await F()).artists,s=10;for(let o=0;o<s;o++)t.forEach((n,r)=>{var d,l,u;const a=((d=n.strArtistThumb)==null?void 0:d.trim())||((l=n.image)==null?void 0:l.trim())||((u=n.photoUrl)==null?void 0:u.trim())||null;if(!a)return;const i=n.strArtist||n.name||"Unknown Artist";if(!a)return;const c=document.createElement("img");c.src=a,c.alt=i,c.classList.add("hero-img"),r%2===0?D.appendChild(c.cloneNode(!0)):U.appendChild(c.cloneNode(!0))});D.classList.add("animate-up"),U.classList.add("animate-down")}catch(e){console.error("Error loading hero artists:",e)}}J();const _="/js_116_EllieReznichenko/assets/sprite-CLUDtRi5.svg",g={artistCardsContainer:document.querySelector("#artists-grid"),loadMoreBtn:document.getElementById("load-more-btn")};function ee({_id:e,strArtist:t,genres:s,strArtistThumb:o,strBiographyEN:n}){const r=(s||[]).map(c=>`<li class="genre">${c}</li>`).join(""),a=(n==null?void 0:n.length)>100?n.slice(0,100)+"...":n||"",i=o!=null&&o.trim()?o:"/img/artists/Placeholder_Image.jpg";return`
    <li class="artist-cards" data-id="${e}">
      <img class="img" src="${i}" alt="${t}" />
      <ul class="genres">${r}</ul>
      <h3 class="artist-name">${t}</h3>
      <p class="description">${a}</p>
      <button class="learn-more" data-id="${e}">
        Learn More
        <svg class="icon" width="24" height="24">
          <use href="${_}#icon-caret-right-learn-more"></use>
        </svg>
      </button>
    </li>
  `}let k=1;async function j(){try{const e=await F(k,x);if(!e.artists||!Array.isArray(e.artists))throw new Error("Немає артистів у відповіді");const t=e.artists.map(ee).join("");g.artistCardsContainer.insertAdjacentHTML("beforeend",t),k*x>=e.total?g.loadMoreBtn.style.display="none":(g.loadMoreBtn.classList.remove("loading"),g.loadMoreBtn.querySelector(".loader-spinner").classList.add("visually-hidden")),k++}catch(e){console.error(e),X("Помилка завантаження артистів"),g.loadMoreBtn.style.display="none"}}g.loadMoreBtn.addEventListener("click",()=>{g.loadMoreBtn.classList.add("loading"),g.loadMoreBtn.querySelector(".loader-spinner").classList.remove("visually-hidden"),j()});document.addEventListener("DOMContentLoaded",()=>{j()});const y=document.querySelector(".modal"),v=y.querySelector(".modal-content"),T=document.querySelector(".loader");let M=[];function O(e){e.key==="Escape"&&I()}function te(){y.style.display="flex",requestAnimationFrame(()=>{y.classList.add("is-open")}),document.body.style.overflow="hidden",window.addEventListener("keydown",O)}function I(){y.classList.remove("is-open"),document.body.style.overflow="",v.innerHTML="",ne(),window.removeEventListener("keydown",O),setTimeout(()=>{y.style.display="none"},100)}function ne(){M.forEach(({element:e,handler:t})=>{e.removeEventListener("click",t)}),M=[]}function re(){v.querySelectorAll(".youtube-link").forEach(e=>{const t=s=>{s.preventDefault(),window.open(e.href,"_blank")};e.addEventListener("click",t),M.push({element:e,handler:t})})}function se(e){let t=e.genres??e.genre??e.tags;return t?Array.from(new Set((Array.isArray(t)?t:[t]).flatMap(s=>s.split(",")).map(s=>s.trim()).filter(Boolean))):["information missing"]}function oe(e){return e[0]==="information missing"?'<ul class="genre-list"><li class="genre">information missing</li></ul>':`<ul class="genre-list">${e.map(t=>`<li class="genre">${t}</li>`).join("")}</ul>`}function ae(e){return e.map(t=>`
      <tr class="artist-tr">
        <td>${t.title}</td>
        <td>${t.duration}</td>
        <td>${t.youtubeUrl?`<a href="${t.youtubeUrl}" class="youtube-link" target="_blank" rel="noopener noreferrer" title="Open on YouTube">
                <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor" style="vertical-align:middle;"><path d="M23.498 6.186a2.994 2.994 0 0 0-2.112-2.12C19.228 3.5 12 3.5 12 3.5s-7.228 0-9.386.566A2.994 2.994 0 0 0 .502 6.186C0 8.344 0 12 0 12s0 3.656.502 5.814a2.994 2.994 0 0 0 2.112 2.12C4.772 20.5 12 20.5 12 20.5s7.228 0 9.386-.566a2.994 2.994 0 0 0 2.112-2.12C24 15.656 24 12 24 12s0-3.656-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg>
              </a>`:""}</td>
      </tr>`).join("")}function ie(e){return e!=null&&e.length?`<div class="albums-grid">${e.map(t=>`
      <div class="album">
        <h3>${t.title}</h3>
        <table>
          <thead>
            <tr class="artist-tr">
              <th>Track</th>
              <th>Time</th>
              <th>Link</th>
            </tr>
          </thead>
          <tbody>
            ${ae(t.tracks)}
          </tbody>
        </table>
      </div>`).join("")}</div>`:"<p>Albums information missing</p>"}function ce(e){const t=e.yearFormed?e.yearDisbanded?`${e.yearFormed} - ${e.yearDisbanded}`:`${e.yearFormed} - present`:"information missing",s=se(e),o=oe(s),n=e.imageUrl||"",r=ie(e.albums);v.innerHTML=`
    <div class="modal-header">
      <h2 class="artist-mod-title">${e.name}</h2>
      <button class="button-close" aria-label="Close">
        <svg class="artist-modal-close-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M18 6L6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <path d="M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </button>
    </div>
    <div class="artist-main-info">
      <img class="artist-image" src="${n}" alt="${e.name}">
      <div class="artist-info">
        <div class="artist-info-grid2">
          <div class="info-col">
            <div class="info-block"><span class="info-label">Years active</span><span class="info-value">${t}</span></div>
            <div class="info-block"><span class="info-label">Members</span><span class="info-value">${e.membersCount||"information missing"}</span></div>
          </div>
          <div class="info-col">
            <div class="info-block"><span class="info-label">Sex</span><span class="info-value">${e.gender||"information missing"}</span></div>
            <div class="info-block"><span class="info-label">Country</span><span class="info-value">${e.country||"information missing"}</span></div>
          </div>
        </div>
        <strong>Biography</strong>
        <p class="biography">${e.biography||"information missing"}</p>
        <div class="genres genres-artist"><strong>Genres</strong> ${o}</div>
      </div>
    </div>
    <div class="albums">
      <h3 class="title_album">Albums</h3>
      ${r}
    </div>`,v.querySelector(".button-close").addEventListener("click",I),re()}async function le(e){try{T.style.display="flex",v.innerHTML="",te();const t=await W(e),s=a=>{const i=Math.floor(Number(a)/1e3),c=Math.floor(i/60),d=i%60;return`${c}:${d.toString().padStart(2,"0")}`},o={};Array.isArray(t.tracksList)&&t.tracksList.forEach(a=>{const i=a.strAlbum||"Unknown Album";o[i]||(o[i]=[]),o[i].push(a)});const n=Object.entries(o).map(([a,i])=>({title:a,tracks:i.map(c=>{const d=typeof c.movie=="string"&&c.movie.includes("http")?c.movie.split(" ")[0]:"";return{title:c.strTrack||"No title",duration:c.intDuration?s(c.intDuration):"",youtubeUrl:d}})})),r={name:t.strArtist||"No name",imageUrl:t.strArtistThumb||"",yearFormed:t.intFormedYear||"",yearDisbanded:t.intDiedYear&&t.intDiedYear!=="null"?t.intDiedYear:"",gender:t.strGender||"",membersCount:t.intMembers||"",country:t.strCountry||"",biography:t.strBiographyEN||"",genres:Array.isArray(t.genres)?t.genres:[],albums:n};ce(r)}catch(t){v.innerHTML="<p>Помилка завантаження даних</p>",console.error(t)}finally{T.style.display="none"}}const Y=document.querySelector("#artists-grid");Y&&Y.addEventListener("click",e=>{const t=e.target.closest(".learn-more");if(!t)return;const s=t.closest(".artist-cards");if(!s)return;const o=s.dataset.id;le(o)});y.addEventListener("click",e=>{e.target===y&&I()});const H="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGPSURBVHgBrVQ7UsMwEN1dh9D6Bjg3CDVFBA1tOAHDCYiHCdAldExgxgkcgHAEOmjAFS2+AeYGrjNEYpU4HmPFtvi8GY+l1dvV7tNKABboi9vjs72bwIaLdYSeCLwm0rseSyV3r0M/rOIT1GCTnEG2O0G3jo+22aVIZkq2xqGfwG8y3AAQBZPbJOhV+VQGRKSBYVR0WOnDZblNzkTx7vqjxd/ZYjE8BCVK/CKlMEKYf0iWgXVL2Df+5K/BGr0xwdNirgTlQFCDNqJq6wIp8wHgxBJSSj7AfwHlxHmNnx53vH1kwQT8BSgvRs/+MGubExF0HaQ7HrrwMyRcpX8V+tNF3PzKOfedRHrhoWcXC2IOdsDBopXhW9tchn48593AFsvMorzJ6EO0z07D4BoBiZwOWALNm7TmpqjSZjapSJ3KgHxruFmNU471s8XiH+lxYc3tL30yNAoTkZsmLPpkBjDOvS7TUxEMIXfH07LXnzKl2SlQISm5PQr9YfGp0jZea/Fm90sulD5lkJbtgSXWcb8AOwmLEyrUuDIAAAAASUVORK5CYII=",V="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADuSURBVHgBrZOBEYIwDEVTJsAJ7AhsYN2AEXAC2UA28NzAFZzAFdwAnEA2qImEEwJXwpV397lS0t9QPgAKvPdn1BW2AI2s/+OW6hNY5jIY5xCD6I74oFKI6NCJezIrIaLD2k+pQ2sMv4Lj3XvtURamHfa8WG9Uy2pIhne0sA0tneEDtuP2u2KXlY+nGlnjRM6xWAutKWb79V3u6hVmVJsFD4E71TL5c+aCbUGP1RgeQI+TE0ZO0CFDF24NrTFmN5xIhFk2Y9agjqgTj4ekwY+CD0sRB8pnKmpkZsuQYV/8pAgF6ihed64tIETISFP7BVsQmECc0IB0AAAAAElFTkSuQmCC";function de(e){return Math.round(e)}function ue(e){return e.map(t=>({...t,roundedRating:de(t.rating)}))}function me(e){if(e.length===0)return[];const t=e[0],s=e[e.length-1];let o=null;if(e.length>2){let n;do n=Math.floor(Math.random()*e.length);while(n===0||n===e.length-1);o=e[n]}return[t,o,s].filter(Boolean)}(async()=>{try{const e=new P(".swiper",{direction:"horizontal",loop:!1,autoHeight:!0,modules:[Q,G],pagination:{el:".swiper-pagination",clickable:!0,renderBullet:(r,a)=>r<3?`<span class="${a}"></span>`:""},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},simulateTouch:!0,grabCursor:!0,keyboard:{enabled:!0,pageUpDown:!0,onlyInViewport:!0},mousewheel:{eventsTarget:".swiper"}});e.on("slideChange",function(){const r=document.querySelectorAll(".swiper-pagination-bullet");r.forEach(i=>i.classList.remove("swiper-pagination-bullet-active"));const a=e.realIndex%3;r[a]&&r[a].classList.add("swiper-pagination-bullet-active")});const t=await z(),s=ue(t),o=me(s),n=document.querySelector(".swiper-wrapper");n.innerHTML="",s.forEach(r=>{const a=document.createElement("div");a.className="swiper-slide",a.innerHTML=`
          <div class="feedback-card">
            <div class="rating" data-score="${r.roundedRating}"></div>
            <p class="feedback_description">${r.descr}</p>
            <h3 class="feedback_name">${r.name}</h3>
          </div>
        `,n.appendChild(a)}),document.querySelectorAll(".rating").forEach(r=>{new K(r,{starOn:H,starOff:V,score:parseInt(r.dataset.score,10),readOnly:!0}).init()})}catch(e){console.error("Ошибка при загрузке отзывов:",e)}})();const p=document.querySelector("[data-feedback-modal]"),S=document.querySelector("[data-feedback-modal-open]"),C=document.querySelector("[data-feedback-modal-close]"),A=document.getElementById("feedback-star-rating"),f=p==null?void 0:p.querySelector(".feedback-modal-form"),b=document.querySelector(".feedback-modal-notification"),w=f==null?void 0:f.querySelector('button[type="submit"]');if(p&&f&&A){let s=function(){f.querySelectorAll("input, textarea").forEach(u=>{u.classList.remove("input-error");const h=u.parentElement.querySelector(".error-text");h&&h.remove()});const l=A.querySelector(".error-text");l&&l.remove(),A.classList.remove("input-error")},o=function(d){d.key==="Escape"&&r()},n=function(d){console.log("Modal click event detected",d.target),d.target===p&&r()},r=function(){p.classList.add("is-hidden"),t(),s(),document.removeEventListener("keydown",o),p.removeEventListener("click",n)},a=function(){p.classList.remove("is-hidden"),e(),document.addEventListener("keydown",o),p.addEventListener("click",n)},c=function(d){A.innerHTML="";for(let l=1;l<=5;l++){const u=document.createElement("img");u.src=l<=d?H:V,u.alt=`Star ${l}`,u.dataset.value=l,u.style.cursor="pointer",u.addEventListener("click",()=>{i=l,c(i)}),A.appendChild(u)}};const e=()=>document.body.classList.add("body-lock"),t=()=>document.body.classList.remove("body-lock");S==null||S.addEventListener("click",a),C==null||C.addEventListener("click",r);let i=0;c(0),f.setAttribute("novalidate",!0),f.addEventListener("submit",async d=>{d.preventDefault(),s();let l=!1;const u=f.querySelector("#user-name"),h=u.value.trim();if(h.length<2||h.length>16){u.classList.add("input-error");const m=document.createElement("div");m.classList.add("error-text"),m.textContent="Please enter a valid name (2-16 characters)",u.parentElement.appendChild(m),l=!0}const L=f.querySelector("#user-message"),E=L.value.trim();if(E.length<10||E.length>512){L.classList.add("input-error");const m=document.createElement("div");m.classList.add("error-text"),m.textContent="Please enter a message (10-512 characters)",L.parentElement.appendChild(m),l=!0}if(i===0){A.classList.add("input-error");const m=document.createElement("div");m.classList.add("error-text"),m.textContent="Please choose a rating",A.appendChild(m),l=!0}if(!l){w&&(w.disabled=!0);try{await Z({name:h,rating:i,descr:E}),r(),f.reset(),i=0,c(i),b&&(b.textContent="Your feedback has been received. The Universe has heard you.",b.classList.add("is-visible"),setTimeout(()=>{b.classList.remove("is-visible")},3e3))}catch(m){alert("Error sending feedback. Please try again later."),console.error(m)}finally{w&&(w.disabled=!1)}}})}const fe=document.querySelector("[data-header-open]"),$=document.querySelector("[data-menu]"),pe=document.querySelector("[data-menu-close]"),ge=document.querySelectorAll(".mob-nav-link");function Ae(){$.classList.add("is-open"),document.body.classList.add("no-scroll"),document.addEventListener("keydown",q)}function q(e){e.type==="keydown"&&e.key!=="Escape"||($.classList.remove("is-open"),document.body.classList.remove("no-scroll"),document.removeEventListener("keydown",q))}fe.addEventListener("click",Ae);pe.addEventListener("click",q);ge.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const s=e.getAttribute("href").substring(1),o=document.getElementById(s);o&&($.classList.remove("is-open"),document.body.classList.remove("no-scroll"),o.scrollIntoView({behavior:"smooth"}))})});
//# sourceMappingURL=index.js.map
